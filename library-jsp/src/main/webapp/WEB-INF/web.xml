<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xmlns="http://java.sun.com/xml/ns/javaee"
	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
	version="3.0">
	<display-name>Book Library</display-name>
	
	<servlet>
		<servlet-name>AddUserServlet</servlet-name>
		<servlet-class>com.csc.booklibrary.AddUserServlet</servlet-class>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>AddUserServlet</servlet-name>
		<url-pattern>/addUser</url-pattern>		
	</servlet-mapping>
	
	<servlet>
		<servlet-name>AddBookServlet</servlet-name>
		<servlet-class>com.csc.booklibrary.AddBookServlet</servlet-class>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>AddBookServlet</servlet-name>
		<url-pattern>/addBook</url-pattern>		
	</servlet-mapping>
	
	<servlet>
		<servlet-name>MessagesServlet</servlet-name>
		<servlet-class>com.csc.booklibrary.MessagesServlet</servlet-class>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>MessagesServlet</servlet-name>
		<url-pattern>/messages</url-pattern>		
	</servlet-mapping>
	
	<servlet>
		<servlet-name>OutboxServlet</servlet-name>
		<servlet-class>com.csc.booklibrary.OutboxServlet</servlet-class>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>OutboxServlet</servlet-name>
		<url-pattern>/messagesOut</url-pattern>		
	</servlet-mapping>
	
	<servlet>
		<servlet-name>ReviewsServlet</servlet-name>
		<servlet-class>com.csc.booklibrary.ReviewsServlet</servlet-class>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>ReviewsServlet</servlet-name>
		<url-pattern>/reviews</url-pattern>
	</servlet-mapping>
	
	<servlet>
		<servlet-name>BooksServlet</servlet-name>
		<servlet-class>com.csc.booklibrary.BooksServlet</servlet-class>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>BooksServlet</servlet-name>
		<url-pattern>/books</url-pattern>
	</servlet-mapping>
	
	<servlet>
		<servlet-name>UsersServlet</servlet-name>
		<servlet-class>com.csc.booklibrary.UsersServlet</servlet-class>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>UsersServlet</servlet-name>
		<url-pattern>/users</url-pattern>
	</servlet-mapping>
	
	<servlet>
		<servlet-name>BookPendingRequstsServlet</servlet-name>
		<servlet-class>com.csc.booklibrary.BookPendingRequstsServlet</servlet-class>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>BookPendingRequstsServlet</servlet-name>
		<url-pattern>/pendingRequests</url-pattern>
	</servlet-mapping>
	
	<servlet>
		<servlet-name>SingleBookRequestServlet</servlet-name>
		<servlet-class>com.csc.booklibrary.SingleBookRequestServlet</servlet-class>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>SingleBookRequestServlet</servlet-name>
		<url-pattern>/request</url-pattern>
	</servlet-mapping>
	
	<servlet>
		<servlet-name>BookRequestsServlet</servlet-name>
		<servlet-class>com.csc.booklibrary.BookRequestsServlet</servlet-class>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>BookRequestsServlet</servlet-name>
		<url-pattern>/requests</url-pattern>
	</servlet-mapping>
	
	<servlet>
		<servlet-name>BookServlet</servlet-name>
		<servlet-class>com.csc.booklibrary.BookServlet</servlet-class>
		<load-on-startup>0</load-on-startup>
	</servlet>
	
	 <servlet-mapping>
		<servlet-name>BookServlet</servlet-name>
		 <url-pattern>/book</url-pattern>		
	</servlet-mapping> 
	
		<servlet>
		<servlet-name>BorrowBookServlet</servlet-name>
		<servlet-class>com.csc.booklibrary.BorrowBookServlet</servlet-class>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>BorrowBookServlet</servlet-name>
		<url-pattern>/borrowBook</url-pattern>
	</servlet-mapping>
	
	<servlet>
		<servlet-name>WriteReview</servlet-name>
		<servlet-class>com.csc.booklibrary.WriteReviewServlet</servlet-class>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>WriteReview</servlet-name>
		<url-pattern>/writeReview</url-pattern>		
	</servlet-mapping>
	
	<servlet>
		<servlet-name>RequestBookServlet</servlet-name>
		<servlet-class>com.csc.booklibrary.RequestBookServlet</servlet-class>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>RequestBookServlet</servlet-name>
		<url-pattern>/requestBook</url-pattern>
	</servlet-mapping>
	
	<servlet>
		<servlet-name>OopsPage</servlet-name>
		<jsp-file>/WEB-INF/jsp/oops.jsp</jsp-file>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>OopsPage</servlet-name>
		<url-pattern>/oops</url-pattern>
	</servlet-mapping>
	
	<!-- 
	<servlet>
		<servlet-name>Outbox</servlet-name>
		<jsp-file>/WEB-INF/jsp/messagesOut.jsp</jsp-file>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>Outbox</servlet-name>
		<url-pattern>/messagesOut</url-pattern>
	</servlet-mapping>
	 -->
	
	<servlet>
		<servlet-name>SendMessageServlet</servlet-name>
		<servlet-class>com.csc.booklibrary.SendMessageServlet</servlet-class>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>SendMessageServlet</servlet-name>
		<url-pattern>/sendMessage</url-pattern>
	</servlet-mapping>
	
	<servlet>
		<servlet-name>HomepageServlet</servlet-name>
		<servlet-class>com.csc.booklibrary.HomepageServlet</servlet-class>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>HomepageServlet</servlet-name>
		<url-pattern>/homepage</url-pattern>
	</servlet-mapping>
	
	<servlet>
		<servlet-name>LoginServlet</servlet-name>
		<servlet-class>com.csc.booklibrary.LoginServlet</servlet-class>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>LoginServlet</servlet-name>
		<url-pattern>/login</url-pattern>
	</servlet-mapping>
	
	<servlet>
		<servlet-name>LogoutServlet</servlet-name>
		<servlet-class>com.csc.booklibrary.LogoutServlet</servlet-class>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>LogoutServlet</servlet-name>
		<url-pattern>/logout</url-pattern>
	</servlet-mapping>
	
	<servlet>
		<servlet-name>ErrorHandlerServlet</servlet-name>
		<servlet-class>com.csc.booklibrary.ErrorHandlerServlet</servlet-class>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>ErrorHandlerServlet</servlet-name>
		<url-pattern>/errorHandler</url-pattern>
	</servlet-mapping>
	
 	<error-page>
  	  <exception-type>java.lang.Throwable</exception-type>
  	  <location>/errorHandler</location>
    </error-page>
    
    <filter>
		<filter-name>LogInAuthenticationFilter</filter-name>
		<filter-class>com.csc.booklibrary.LogInAuthenticationFilter</filter-class>
	</filter>

	<filter-mapping>
		<filter-name>LogInAuthenticationFilter</filter-name>
		<url-pattern>/*</url-pattern>
	</filter-mapping>
	
	<filter>
		<filter-name>AdminAuthenticationFilter</filter-name>
		<filter-class>com.csc.booklibrary.AdminAuthenticationFilter</filter-class>
	</filter>
	
	<filter-mapping>
		<filter-name>AdminAuthenticationFilter</filter-name>
		<servlet-name>AddUserServlet</servlet-name>
		<servlet-name>AddBookServlet</servlet-name>
		<servlet-name>UsersServlet</servlet-name>
		<servlet-name>LoginServlet</servlet-name>
	</filter-mapping>
    
</web-app>
